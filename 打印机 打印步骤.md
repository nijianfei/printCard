## 打印机 打印步骤

###### 步骤1 查询打印机信息
```xml
Command <command name="query_printers_with_status" />
Result <result accepted="true">
 		<printers last_configuration_change="13:22:13" >
 		<printer port_number="1" port="USB" hardware_type="DCP360" />
 		<printer port_number="1" port="USB" hardware_type="XID8300DS" />
 		<printer port_number="1" port="USB" hardware_type="XID9300" />
 		<printer port_number="2" port="USB" hardware_type="XID8300LS" />
 		<printer port_number="3" port="USB" hardware_type="XID590" />
 		<printer port_number="4" port="USB" hardware_type="XID9330" />
 		<printer port_number="5" port="USB" hardware_type="XID580" />
 		</printers>
	</result>
```


###### 步骤2 检查打印机状态

```xml
Command <command name="get_printer_status">
 			<printer port_number="1" port="USB" hardware_type="XID8300DS" />
		</command>
Result <result accepted="true">
```

###### 步骤3 移动卡片至打印机编码位置

```xml
Command <command name="device_command">
 	<printer port_number="1" port="USB" hardware_type="XID8300DS" />
 		<device_command name="position_card" destination="ContactlessEncoderPosition"/>
	</command>
Result <result accepted="true" />
```

###### 步骤4 失败后退卡

```xml
Command <command name="device_command">
 <printer port_number="1" port="USB" hardware_type="XID8300DS" />
 <device_command name="position_card" destination="RejectPosition" />
</command>
Result <result accepted="true" />
```

###### 步骤5 移动卡片至打印位置

```xml
Command <command name="device_command">
 <printer port_number="1" port="USB" hardware_type="XID8300DS" />
 <device_command name="position_card" destination="PrintPosition" />
</command>
Result <result accepted="true" />

```



###### 其他命令

[^暂停作业]: 

```xml
Command <command name="change_printer_status" >
 <printer port="USB" port_number="1" hardware_type="XID8300DS" />
 <status paused="true" />
</command>
Result <result accepted="true" />

```

[^取消暂停作业]:

```xml
Command <command name="change_printer_status" >
 <printer port="USB" port_number="1" hardware_type="XID8300DS" />
 <status paused="false" />
</command>
Result <result accepted="true" />
```

[^清除错误状态]:

```xml
Command <command name="remove_error_sequence" error_ids="1,444:0" />
Result <result accepted="true" />
```

[^查询错误ID]: 

```xml
Command <command name="query_all_error_ids" />
Result <result accepted="true">
 			<errors error_ids="2,444:1" />
		</result>

Command <command name="decompress_sequence" sequence="2,444:1" />
Result <result accepted="true" sequence="444,445" />

Command <command name="compress_sequence" sequence="444" />
Result <result accepted="true" sequence="1,444:0" />

Command <command name="query_error_sequence" error_ids="1,444:0" />
Result 	<result accepted="true">
 		<errors>
 			<error id="444" production_job_id="1111"
 				date="2013-10-24 10:42:29,231"
 				group="XID8300DS" line="XID8300DS Line 1"
 				description="Card Jam (card was not detected by card supply sensor)"
 				alt_description="CXCMD_TestUnitReady failed">
 				<code error_code="0x00039000" />
				<translation description="Card Jam (card was not detected by card supply sensor)." />
 			</error>
 		</errors>
		</result>

Command <command name="compress_sequence" sequence="445" />
Result <result accepted="true" sequence="1,445:0" />

Command <command name="query_error_sequence" error_ids="1,445:0" />
Result 	<result accepted="true">
 		<errors>
		 <error id="445" production_job_id=""
 			date="2013-10-24 10:13:34,575"
 			group="" line="" description="No card in printer or the hopper tray is not closed"
 			alt_description="">
 			<code error_code="184320" />
 			<translation description="No card in printer or the hopper tray is not closed." />
 		</error>
 		</errors>
		</result>
```

[^删除作业]:

```xml
Command <command name="compress_sequence" sequence="1112,1113,1114" />
Result <result accepted="true" sequence="3,1112:2" />

Command <command name="remove_production_job_sequence" production_jobs="3,1112:2" />
Result <result accepted="true" />

```



